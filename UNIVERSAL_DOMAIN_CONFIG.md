# é€šç”¨åŸŸåé…ç½®ç³»ç»Ÿ

## ç³»ç»Ÿæ¦‚è¿°

ç¯å¢ƒåˆ‡æ¢åŠ©æ‰‹ç°åœ¨é‡‡ç”¨**é€šç”¨åŸŸåé…ç½®ç³»ç»Ÿ**ï¼Œæ”¯æŒä»»ä½•ç¬¦åˆå‘½åè§„èŒƒçš„ `.sankuai.com` åŸŸåï¼ŒåŒæ—¶å…¼å®¹ç‰¹æ®ŠåŸŸåçš„è‡ªå®šä¹‰é…ç½®ã€‚

## é…ç½®ç­–ç•¥

### 1. æ ‡å‡†åŸŸåè§„åˆ™ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
å¯¹äºå¤§å¤šæ•°åŸŸåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆæ ‡å‡†çš„ç¯å¢ƒé…ç½®ï¼š

```
ç”Ÿäº§ç¯å¢ƒ: https://{prefix}.sankuai.com
é¢„å‘ç¯å¢ƒ: https://{prefix}.waimai.st.sankuai.com
æµ‹è¯•ç¯å¢ƒ: https://{prefix}.waimai.test.sankuai.com
```

**æ”¯æŒçš„åŸŸåç¤ºä¾‹ï¼š**
- `https://fst.sankuai.com` â†’ è‡ªåŠ¨ç”ŸæˆFSTç¯å¢ƒé…ç½®
- `https://fsd.sankuai.com` â†’ è‡ªåŠ¨ç”ŸæˆFSDç¯å¢ƒé…ç½®
- `https://abs.sankuai.com` â†’ è‡ªåŠ¨ç”ŸæˆABSç¯å¢ƒé…ç½®
- `https://any.sankuai.com` â†’ è‡ªåŠ¨ç”ŸæˆANYç¯å¢ƒé…ç½®

### 2. ç‰¹æ®ŠåŸŸåè§„åˆ™ï¼ˆæ‰‹åŠ¨é…ç½®ï¼‰
å¯¹äºæœ‰ç‰¹æ®Šè·³è½¬è§„åˆ™çš„åŸŸåï¼Œå¯ä»¥åœ¨é…ç½®ä¸­å•ç‹¬å®šä¹‰ï¼š

```javascript
'xgpt': {
  prod: 'https://bots.sankuai.com',           // ç‰¹æ®Šï¼šè·³è½¬åˆ°bots.sankuai.com
  st: 'https://xgpt.waimai.st.sankuai.com',  // æ ‡å‡†ï¼šé¢„å‘ç¯å¢ƒ
  test: 'https://xgpt.waimai.test.sankuai.com' // æ ‡å‡†ï¼šæµ‹è¯•ç¯å¢ƒ
}
```

## é…ç½®ä¼˜å…ˆçº§

1. **ç‰¹æ®ŠåŸŸåé…ç½®**ï¼šå¦‚æœåœ¨ç‰¹æ®Šé…ç½®æ¸…å•ä¸­ï¼Œä½¿ç”¨è‡ªå®šä¹‰è§„åˆ™
2. **æ ‡å‡†åŸŸåé…ç½®**ï¼šå¦‚æœä¸åœ¨ç‰¹æ®Šé…ç½®ä¸­ï¼Œè‡ªåŠ¨ç”Ÿæˆæ ‡å‡†è§„åˆ™

## æ”¯æŒçš„åŸŸåç±»å‹

### æ ‡å‡†åŸŸåï¼ˆè‡ªåŠ¨æ”¯æŒï¼‰
| åŸŸåå‰ç¼€ | ç”Ÿäº§ç¯å¢ƒ | é¢„å‘ç¯å¢ƒ | æµ‹è¯•ç¯å¢ƒ |
|----------|----------|----------|----------|
| `fst` | `https://fst.sankuai.com` | `https://fst.waimai.st.sankuai.com` | `https://fst.waimai.test.sankuai.com` |
| `fsd` | `https://fsd.sankuai.com` | `https://fsd.waimai.st.sankuai.com` | `https://fsd.waimai.test.sankuai.com` |
| `abs` | `https://abs.sankuai.com` | `https://abs.waimai.st.sankuai.com` | `https://abs.waimai.test.sankuai.com` |
| `any` | `https://any.sankuai.com` | `https://any.waimai.st.sankuai.com` | `https://any.waimai.test.sankuai.com` |

### ç‰¹æ®ŠåŸŸåï¼ˆæ‰‹åŠ¨é…ç½®ï¼‰
| åŸŸåå‰ç¼€ | ç”Ÿäº§ç¯å¢ƒ | é¢„å‘ç¯å¢ƒ | æµ‹è¯•ç¯å¢ƒ | è¯´æ˜ |
|----------|----------|----------|----------|------|
| `xgpt` | `https://bots.sankuai.com` | `https://xgpt.waimai.st.sankuai.com` | `https://xgpt.waimai.test.sankuai.com` | ç”Ÿäº§ç¯å¢ƒè·³è½¬åˆ°bots.sankuai.com |

## æŠ€æœ¯å®ç°

### æ ¸å¿ƒæ–¹æ³•

```javascript
// 1. è·å–åŸŸåå‰ç¼€
getDomainPrefix() {
  // æ™ºèƒ½æå–åŸŸåå‰ç¼€
  // æ”¯æŒ prefix.sankuai.com å’Œ prefix.waimai.env.sankuai.com æ ¼å¼
}

// 2. æ£€æŸ¥æ˜¯å¦ä¸ºç‰¹æ®ŠåŸŸå
isSpecialDomain(domainPrefix) {
  // æ£€æŸ¥æ˜¯å¦åœ¨ç‰¹æ®Šé…ç½®æ¸…å•ä¸­
}

// 3. ç”Ÿæˆæ ‡å‡†åŸŸåé…ç½®
generateStandardDomainConfig(domainPrefix) {
  // è‡ªåŠ¨ç”Ÿæˆæ ‡å‡†çš„ç¯å¢ƒé…ç½®
}

// 4. è·å–æœ€ç»ˆåŸŸåé…ç½®
getDomainConfig(domainPrefix) {
  // ä¼˜å…ˆä½¿ç”¨ç‰¹æ®Šé…ç½®ï¼Œå¦åˆ™ç”Ÿæˆæ ‡å‡†é…ç½®
}
```

### é…ç½®æµç¨‹

```
è®¿é—®åŸŸå â†’ æå–å‰ç¼€ â†’ æ£€æŸ¥ç‰¹æ®Šé…ç½® â†’ ç”Ÿæˆç¯å¢ƒé…ç½® â†’ æ¸²æŸ“UI
    â†“           â†“           â†“           â†“         â†“
  xgpt.waimai.st.sankuai.com â†’ xgpt â†’ ç‰¹æ®ŠåŸŸå â†’ ä½¿ç”¨è‡ªå®šä¹‰è§„åˆ™ â†’ æ˜¾ç¤ºXGPTç¯å¢ƒ
  fst.sankuai.com â†’ fst â†’ æ ‡å‡†åŸŸå â†’ è‡ªåŠ¨ç”Ÿæˆè§„åˆ™ â†’ æ˜¾ç¤ºFSTç¯å¢ƒ
```

## æ‰©å±•æ–°åŸŸå

### æ·»åŠ æ ‡å‡†åŸŸå
æ— éœ€ä»»ä½•é…ç½®ï¼Œåªè¦åŸŸåç¬¦åˆè§„èŒƒå³å¯è‡ªåŠ¨æ”¯æŒï¼š
```
https://new-system.sankuai.com â†’ è‡ªåŠ¨æ”¯æŒ
https://new-system.waimai.st.sankuai.com â†’ è‡ªåŠ¨æ”¯æŒ
https://new-system.waimai.test.sankuai.com â†’ è‡ªåŠ¨æ”¯æŒ
```

### æ·»åŠ ç‰¹æ®ŠåŸŸå
åœ¨ `getSpecialDomainConfig()` æ–¹æ³•ä¸­æ·»åŠ é…ç½®ï¼š

```javascript
'new-system': {
  prod: 'https://custom-prod.sankuai.com',     // è‡ªå®šä¹‰ç”Ÿäº§ç¯å¢ƒ
  st: 'https://new-system.waimai.st.sankuai.com',   // æ ‡å‡†é¢„å‘ç¯å¢ƒ
  test: 'https://new-system.waimai.test.sankuai.com' // æ ‡å‡†æµ‹è¯•ç¯å¢ƒ
}
```

## ä½¿ç”¨ç¤ºä¾‹

### åœºæ™¯1ï¼šæ ‡å‡†åŸŸå
1. è®¿é—® `https://fst.sankuai.com/dashboard`
2. ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«ä¸ºFSTç³»ç»Ÿ
3. ç”Ÿæˆæ ‡å‡†ç¯å¢ƒé…ç½®
4. å¯åˆ‡æ¢åˆ°é¢„å‘ï¼š`https://fst.waimai.st.sankuai.com/dashboard`

### åœºæ™¯2ï¼šç‰¹æ®ŠåŸŸå
1. è®¿é—® `https://xgpt.waimai.st.sankuai.com/create`
2. ç³»ç»Ÿè¯†åˆ«ä¸ºXGPTç³»ç»Ÿï¼ˆç‰¹æ®ŠåŸŸåï¼‰
3. ä½¿ç”¨ç‰¹æ®Šé…ç½®ï¼šç”Ÿäº§ç¯å¢ƒè·³è½¬åˆ° `https://bots.sankuai.com`
4. å¯åˆ‡æ¢åˆ°ç”Ÿäº§ï¼š`https://bots.sankuai.com/create`

## ä¼˜åŠ¿ç‰¹æ€§

### 1. é€šç”¨æ€§
- æ”¯æŒä»»ä½•ç¬¦åˆå‘½åè§„èŒƒçš„åŸŸå
- æ— éœ€æ‰‹åŠ¨é…ç½®æ–°ç³»ç»Ÿ
- è‡ªåŠ¨é€‚åº”æ–°çš„ä¸šåŠ¡ç³»ç»Ÿ

### 2. çµæ´»æ€§
- æ”¯æŒæ ‡å‡†åŸŸåè‡ªåŠ¨ç”Ÿæˆ
- æ”¯æŒç‰¹æ®ŠåŸŸåè‡ªå®šä¹‰é…ç½®
- é…ç½®ä¼˜å…ˆçº§æ¸…æ™°

### 3. å¯ç»´æŠ¤æ€§
- ä»£ç ç»“æ„æ¸…æ™°
- é…ç½®é›†ä¸­ç®¡ç†
- æ˜“äºæ‰©å±•å’Œç»´æŠ¤

## æ³¨æ„äº‹é¡¹

1. **å‘½åè§„èŒƒ**ï¼šåŸŸåå¿…é¡»éµå¾ªæ ‡å‡†æ ¼å¼
2. **ç‰¹æ®Šé…ç½®**ï¼šç‰¹æ®ŠåŸŸåéœ€è¦åœ¨é…ç½®æ¸…å•ä¸­æ˜ç¡®å®šä¹‰
3. **ä¼˜å…ˆçº§**ï¼šç‰¹æ®Šé…ç½®ä¼˜å…ˆäºæ ‡å‡†é…ç½®
4. **æ‰©å±•æ€§**ï¼šæ–°å¢æ ‡å‡†åŸŸåæ— éœ€ä¿®æ”¹ä»£ç 

## æ›´æ–°æ—¥å¿—

### v2.1.0 (2025-01-02)
- âœ¨ æ–°å¢é€šç”¨åŸŸåé…ç½®ç³»ç»Ÿ
- âœ¨ æ”¯æŒè‡ªåŠ¨ç”Ÿæˆæ ‡å‡†åŸŸåè§„åˆ™
- âœ¨ å…¼å®¹ç‰¹æ®ŠåŸŸåè‡ªå®šä¹‰é…ç½®
- ğŸ”§ é‡æ„ä»£ç æ¶æ„ï¼Œæå‡å¯ç»´æŠ¤æ€§
- ğŸ“ å®Œå–„é…ç½®æ–‡æ¡£å’Œç¤ºä¾‹
